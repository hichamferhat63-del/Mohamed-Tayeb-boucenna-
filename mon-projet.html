<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Institut Public de Formation - Alg√©rie üá©üáø</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-green: #00854d;
            --light-green: #00a65a;
            --dark-green: #006637;
            --accent-green: #10b981;
            --soft-green: #d1fae5;
            --primary-blue: #2563eb;
            --light-blue: #3b82f6;
            --dark-blue: #1e40af;
            --soft-blue: #dbeafe;
            --primary-red: #dc2626;
            --light-red: #ef4444;
            --dark-red: #b91c1c;
            --soft-red: #fee2e2;
            --white: #ffffff;
            --light-gray: #f5f5f5;
            --dark-gray: #333;
            --shadow: rgba(0, 133, 77, 0.1);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes rotate3d {
            0% { transform: rotateY(0deg) rotateX(0deg); }
            50% { transform: rotateY(180deg) rotateX(10deg); }
            100% { transform: rotateY(360deg) rotateX(0deg); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--light-gray); transition: background 0.3s; line-height: 1.6; }
        body.dark-mode { --light-gray: #1a1a1a; --white: #2d2d2d; --dark-gray: #e0e0e0; --shadow: rgba(255, 255, 255, 0.05); }
        .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
        .header { background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%); color: var(--dark-gray); padding: 20px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.08); position: sticky; top: 0; z-index: 1000; border-bottom: 3px solid var(--primary-green); }
        @keyframes slideDown { from { transform: translateY(-100%); } to { transform: translateY(0); } }
        .header-content { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 20px; }
        .logo-section { display: flex; align-items: center; gap: 20px; }
        .logo, .logo-placeholder { width: 70px; height: 70px; border-radius: 8px; border: 2px solid var(--primary-green); box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .logo { object-fit: cover; }
        .logo-placeholder { background: linear-gradient(135deg, var(--primary-green), var(--light-green)); display: flex; align-items: center; justify-content: center; font-size: 28px; color: white; }
        .institute-info h1 { font-size: 26px; margin-bottom: 5px; color: var(--dark-gray); font-weight: 600; letter-spacing: -0.5px; }
        .institute-info p { font-size: 14px; color: #666; font-weight: 400; }

        .header-actions { display: flex; gap: 15px; align-items: center; }
        .nav { background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-blue) 50%, var(--primary-red) 100%); box-shadow: 0 4px 12px rgba(0,0,0,0.15); position: sticky; top: 90px; z-index: 999; }
        .nav-content { display: flex; gap: 0; overflow-x: auto; justify-content: center; }
        .nav-button { padding: 16px 28px; background: none; border: none; color: white; cursor: pointer; font-size: 15px; font-weight: 500; transition: all 0.4s; border-bottom: 3px solid transparent; white-space: nowrap; text-transform: uppercase; letter-spacing: 0.5px; position: relative; }
        .nav-button::before { content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 3px; background: white; transition: all 0.4s; transform: translateX(-50%); }
        .nav-button:hover { background: rgba(255,255,255,0.15); transform: translateY(-2px); }
        .nav-button:hover::before { width: 80%; }
        .nav-button.active { background: rgba(255,255,255,0.2); }
        .nav-button.active::before { width: 80%; }
        .btn { padding: 12px 28px; border: none; border-radius: 6px; cursor: pointer; font-size: 15px; font-weight: 600; transition: all 0.4s ease; display: inline-flex; align-items: center; gap: 8px; text-transform: uppercase; letter-spacing: 0.5px; position: relative; overflow: hidden; }
        .btn::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(255,255,255,0.3); transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s; }
        .btn:hover::before { width: 300px; height: 300px; }
        .btn-primary { background: linear-gradient(135deg, var(--primary-green), var(--accent-green)); color: white; box-shadow: 0 2px 8px rgba(0, 133, 77, 0.25); }
        .btn-primary:hover { background: linear-gradient(135deg, var(--dark-green), var(--primary-green)); transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0, 133, 77, 0.4); }
        .btn-secondary { background: transparent; color: var(--primary-green); border: 2px solid var(--primary-green); }
        .btn-secondary:hover { background: linear-gradient(135deg, var(--primary-green), var(--primary-blue)); color: white; border-color: transparent; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-danger:hover { background: #c82333; }
        .btn-sm { padding: 8px 16px; font-size: 13px; }
        .card { background: var(--white); border-radius: 8px; padding: 30px; box-shadow: 0 1px 4px rgba(0,0,0,0.08); transition: all 0.3s; margin-bottom: 20px; border: 1px solid rgba(0,0,0,0.06); border-left: 4px solid var(--primary-green); }
        .card:hover { box-shadow: 0 4px 12px rgba(0,133,77,0.15); border-left-color: var(--accent-green); }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; margin: 30px 0; }
        .specialty-card { background: var(--white); border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.08); transition: all 0.4s ease; border: 1px solid rgba(0,0,0,0.06); position: relative; transform-style: preserve-3d; }
        .specialty-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--primary-green), var(--primary-blue), var(--primary-red)); }
        .specialty-card:hover { transform: translateY(-8px) rotateX(5deg) rotateY(2deg); box-shadow: 0 12px 30px rgba(0,133,77,0.25); }
        .specialty-image { width: 100%; height: 220px; object-fit: cover; }
        .specialty-image-placeholder { width: 100%; height: 220px; background: linear-gradient(135deg, var(--primary-green), var(--light-green)); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px; }
        .specialty-content { padding: 24px; }
        .specialty-content h3 { color: var(--dark-gray); margin-bottom: 12px; font-size: 20px; font-weight: 600; }
        .specialty-content p { color: #666; line-height: 1.7; font-size: 15px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: var(--dark-gray); font-weight: 500; }
        .form-control { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; transition: border-color 0.3s; background: var(--white); color: var(--dark-gray); }
        .form-control:focus { outline: none; border-color: var(--primary-green); }
        textarea.form-control { resize: vertical; min-height: 100px; }
        select.form-control { cursor: pointer; }
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 2000; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal { background: var(--white); border-radius: 12px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; animation: slideUp 0.3s; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .modal-header { padding: 20px; border-bottom: 2px solid var(--light-gray); display: flex; justify-content: space-between; align-items: center; }
        .modal-header h2 { color: var(--primary-green); }
        .modal-body { padding: 20px; }
        .modal-footer { padding: 20px; border-top: 2px solid var(--light-gray); display: flex; gap: 10px; justify-content: flex-end; }
        .close-btn { background: none; border: none; font-size: 28px; cursor: pointer; color: var(--dark-gray); line-height: 1; }
        .close-btn:hover { color: var(--primary-green); }
        .document-list { list-style: none; }
        .document-item { background: var(--white); padding: 15px; margin-bottom: 10px; border-radius: 8px; border-left: 4px solid var(--primary-green); display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 8px var(--shadow); transition: all 0.3s; }
        .document-item:hover { transform: translateX(5px); box-shadow: 0 4px 12px var(--shadow); }
        .document-info h4 { color: var(--primary-green); margin-bottom: 5px; }
        .document-meta { font-size: 14px; color: #666; }
        .download-count { background: var(--light-green); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
        .filters { background: var(--white); padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 10px var(--shadow); }
        .filter-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .footer { background: var(--dark-gray); color: white; text-align: center; padding: 30px 20px; margin-top: 50px; }
        .footer p { font-size: 15px; opacity: 0.85; }
        .dark-mode-toggle { background: var(--light-gray); border: 2px solid rgba(0,133,77,0.2); color: var(--dark-gray); border-radius: 8px; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 20px; transition: all 0.3s; }
        .dark-mode-toggle:hover { background: var(--primary-green); color: white; border-color: var(--primary-green); }
        .admin-sidebar { background: var(--white); padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px var(--shadow); margin-bottom: 20px; }
        .admin-menu-item { padding: 15px; margin-bottom: 10px; border-radius: 8px; cursor: pointer; transition: all 0.3s; border-left: 4px solid transparent; }
        .admin-menu-item:hover { background: var(--light-gray); border-left-color: var(--primary-green); }
        .admin-menu-item.active { background: var(--light-gray); border-left-color: var(--primary-green); color: var(--primary-green); font-weight: bold; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { color: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,133,77,0.3); position: relative; overflow: hidden; transition: all 0.4s ease; }
        .stat-card:nth-child(1) { background: linear-gradient(135deg, var(--primary-green) 0%, var(--accent-green) 100%); }
        .stat-card:nth-child(2) { background: linear-gradient(135deg, var(--primary-blue) 0%, var(--light-blue) 100%); }
        .stat-card:nth-child(3) { background: linear-gradient(135deg, var(--primary-red) 0%, var(--light-red) 100%); }
        .stat-card:nth-child(4) { background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-blue) 100%); }
        .stat-card:nth-child(5) { background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-red) 100%); }
        .stat-card:nth-child(6) { background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-green) 100%); }
        .stat-card:nth-child(7) { background: linear-gradient(135deg, var(--accent-green) 0%, var(--light-blue) 100%); }
        .stat-card:nth-child(8) { background: linear-gradient(135deg, var(--light-blue) 0%, var(--light-red) 100%); }
        .stat-card:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 8px 30px rgba(0,0,0,0.3); }
        .stat-card::before { content: ''; position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); }
        .stat-card h3 { font-size: 36px; margin-bottom: 10px; position: relative; z-index: 1; }
        .stat-card p { opacity: 0.9; font-size: 16px; position: relative; z-index: 1; }
        .table-container { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; background: var(--white); border-radius: 8px; overflow: hidden; box-shadow: 0 2px 10px var(--shadow); }
        th, td { padding: 15px; text-align: left; border-bottom: 1px solid var(--light-gray); }
        th { background: var(--primary-green); color: white; font-weight: 600; }
        tr:hover { background: var(--light-gray); }
        .action-buttons { display: flex; gap: 10px; }
        .login-container { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, var(--primary-green), var(--light-green)); }
        .login-card { background: white; padding: 40px; border-radius: 16px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); max-width: 400px; width: 90%; }
        .login-card h2 { color: var(--primary-green); margin-bottom: 30px; text-align: center; }
        .announcement-card { background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%); border-radius: 12px; padding: 25px; margin-bottom: 20px; border-left: 5px solid var(--primary-green); box-shadow: 0 4px 15px var(--shadow); transition: all 0.3s; }
        .announcement-card:hover { transform: translateX(5px); box-shadow: 0 6px 20px rgba(0,133,77,0.2); border-left-color: var(--accent-green); }
        .announcement-date { color: #666; font-size: 14px; margin-bottom: 10px; }
        .announcement-card h3 { color: var(--primary-green); margin-bottom: 15px; }
        .file-input-wrapper { position: relative; overflow: hidden; display: inline-block; }
        .file-input-wrapper input[type=file] { position: absolute; left: -9999px; }
        .file-input-label { display: inline-block; padding: 12px 24px; background: var(--primary-green); color: white; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .file-input-label:hover { background: var(--dark-green); }
        .selected-file { margin-top: 10px; padding: 10px; background: var(--light-gray); border-radius: 6px; font-size: 14px; }
        .empty-state { text-align: center; padding: 60px 20px; color: #999; }
        .empty-state-icon { font-size: 64px; margin-bottom: 20px; opacity: 0.5; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; margin-right: 5px; }
        .badge-primary { background: linear-gradient(135deg, var(--primary-green), var(--accent-green)); color: white; box-shadow: 0 2px 4px rgba(0,133,77,0.2); }
        .badge-secondary { background: #6c757d; color: white; }
        .badge-blue { background: linear-gradient(135deg, var(--primary-blue), var(--light-blue)); color: white; box-shadow: 0 2px 4px rgba(37,99,235,0.2); }
        .badge-red { background: linear-gradient(135deg, var(--primary-red), var(--light-red)); color: white; box-shadow: 0 2px 4px rgba(220,38,38,0.2); }
        
        .hero-section { 
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-blue) 50%, var(--primary-red) 100%); 
            color: white; 
            padding: 80px 20px; 
            text-align: center; 
            position: relative;
            overflow: hidden;
            margin: -30px 0 40px 0;
        }
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="2" fill="white" opacity="0.1"/></svg>');
            animation: float 6s ease-in-out infinite;
        }
        .hero-content { 
            position: relative; 
            z-index: 1; 
            max-width: 900px; 
            margin: 0 auto;
            animation: fadeInUp 1s ease;
        }
        .hero-title { 
            font-size: 48px; 
            font-weight: 700; 
            margin-bottom: 20px; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            animation: slideInLeft 0.8s ease;
        }
        .hero-subtitle { 
            font-size: 20px; 
            opacity: 0.95; 
            margin-bottom: 30px; 
            line-height: 1.6;
            animation: slideInRight 0.8s ease;
        }
        .hero-buttons { 
            display: flex; 
            gap: 20px; 
            justify-content: center; 
            flex-wrap: wrap;
            animation: fadeInUp 1.2s ease;
        }
        
        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.6s ease;
        }
        .feature-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.5s ease;
        }
        .feature-card:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }
        .feature-card:hover::before {
            animation: shimmer 1.5s ease;
        }
        .feature-icon {
            font-size: 64px;
            margin-bottom: 20px;
            display: inline-block;
            animation: pulse 2s ease-in-out infinite;
        }
        .feature-title {
            font-size: 22px;
            font-weight: 600;
            color: var(--dark-gray);
            margin-bottom: 12px;
        }
        .feature-description {
            color: #666;
            line-height: 1.6;
            font-size: 15px;
        }
        
        .stats-section {
            background: linear-gradient(135deg, #f0f9ff 0%, #fef3c7 50%, #fee2e2 100%);
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 16px;
            animation: fadeInUp 0.8s ease;
        }
        .stats-grid-home {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .stat-item {
            text-align: center;
            animation: fadeInUp 0.6s ease;
        }
        .stat-number {
            font-size: 48px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-green), var(--primary-blue), var(--primary-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: pulse 3s ease-in-out infinite;
        }
        .stat-label {
            font-size: 16px;
            color: #666;
            font-weight: 500;
        }
        
        .cta-section {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-green) 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
            border-radius: 16px;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
            animation: fadeInUp 1s ease;
        }
        .cta-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate3d 20s linear infinite;
        }
        .cta-content {
            position: relative;
            z-index: 1;
        }
        .cta-title {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 20px;
        }
        .cta-text {
            font-size: 18px;
            opacity: 0.95;
            margin-bottom: 30px;
        }
        
        .btn-hero {
            padding: 16px 40px;
            font-size: 18px;
            border-radius: 50px;
            background: white;
            color: var(--primary-green);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .btn-hero:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        .btn-hero-outline {
            background: transparent;
            color: white;
            border: 2px solid white;
        }
        .btn-hero-outline:hover {
            background: white;
            color: var(--primary-green);
        }
        
        .testimonial-section {
            padding: 60px 20px;
            background: var(--light-gray);
        }
        .testimonial-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-left: 4px solid var(--primary-blue);
            animation: fadeInUp 0.8s ease;
            transition: all 0.3s ease;
        }
        .testimonial-card:hover {
            transform: translateX(10px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        .info-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        .info-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-green), var(--primary-blue), var(--primary-red));
            transform: translateX(-100%);
            transition: transform 0.4s ease;
        }
        .info-card:hover::after {
            transform: translateX(0);
        }
        .info-card:hover {
            transform: translateY(-8px) rotateY(2deg);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }
        
        .social-links {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 25px;
        }
        .social-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            text-decoration: none;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .social-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        .social-btn:hover::before {
            width: 100%;
            height: 100%;
        }
        .social-btn:hover {
            transform: translateY(-8px) rotate(360deg) scale(1.15);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        .social-btn.facebook {
            background: linear-gradient(135deg, #1877f2, #0d5fd8);
        }
        .social-btn.instagram {
            background: linear-gradient(135deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }
        .social-btn.twitter {
            background: linear-gradient(135deg, #1da1f2, #0c85d0);
        }
        .social-section {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 16px;
            margin: 40px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            animation: fadeInUp 1s ease;
        }
        .social-section h3 {
            font-size: 28px;
            color: var(--primary-blue);
            margin-bottom: 15px;
        }
        .social-section p {
            font-size: 16px;
            color: #666;
            margin-bottom: 25px;
        }
        .alert { padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .alert-success { background: #d4edda; color: #155724; border-left: 4px solid #28a745; }
        .alert-error { background: #f8d7da; color: #721c24; border-left: 4px solid #dc3545; }
        @media (max-width: 768px) {
            .header-content { flex-direction: column; text-align: center; }
            .logo-section { flex-direction: column; }
            .institute-info h1 { font-size: 22px; }
            .nav-content { flex-direction: column; }
            .card-grid { grid-template-columns: 1fr; }
            .filter-row { grid-template-columns: 1fr; }
            .modal { width: 95%; }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const storage = {
            get: (key, defaultValue = null) => {
                const item = localStorage.getItem(key);
                return item ? JSON.parse(item) : defaultValue;
            },
            set: (key, value) => localStorage.setItem(key, JSON.stringify(value))
        };
        
        const initializeData = () => {
            if (!storage.get('institutInfo')) storage.set('institutInfo', { name: '', address: '', description: '', logo: '', phone: '', email: '', facebook: '', instagram: '', twitter: '' });
            if (!storage.get('specialties')) storage.set('specialties', []);
            if (!storage.get('modules')) storage.set('modules', []);
            if (!storage.get('groups')) storage.set('groups', []);
            if (!storage.get('courses')) storage.set('courses', []);
            if (!storage.get('results')) storage.set('results', []);
            if (!storage.get('announcements')) storage.set('announcements', []);
            if (!storage.get('exams')) storage.set('exams', []);
            if (!storage.get('admins')) storage.set('admins', [{ username: 'admin', password: 'admin123' }]);
        };
        
        function App() {
            const [darkMode, setDarkMode] = useState(false);
            const [isAdmin, setIsAdmin] = useState(false);
            const [currentView, setCurrentView] = useState('home');
            
            useEffect(() => {
                initializeData();
                document.body.className = darkMode ? 'dark-mode' : '';
            }, [darkMode]);
            
            if (!isAdmin) {
                return currentView === 'admin-login' ? 
                    <AdminLogin onLogin={() => setIsAdmin(true)} onBack={() => setCurrentView('home')} /> :
                    <PublicInterface onAdminClick={() => setCurrentView('admin-login')} darkMode={darkMode} toggleDarkMode={() => setDarkMode(!darkMode)} />;
            }
            return <AdminInterface onLogout={() => setIsAdmin(false)} darkMode={darkMode} toggleDarkMode={() => setDarkMode(!darkMode)} />;
        }
        
        function AdminLogin({ onLogin, onBack }) {
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');
            
            const handleLogin = (e) => {
                e.preventDefault();
                const admins = storage.get('admins', []);
                if (admins.find(a => a.username === username && a.password === password)) {
                    onLogin();
                } else {
                    setError('Nom d\'utilisateur ou mot de passe incorrect');
                }
            };
            
            return (
                <div className="login-container">
                    <div className="login-card">
                        <h2>üîê Connexion Administration</h2>
                        {error && <div className="alert alert-error">{error}</div>}
                        <form onSubmit={handleLogin}>
                            <div className="form-group">
                                <label>Nom d'utilisateur</label>
                                <input type="text" className="form-control" value={username} onChange={(e) => setUsername(e.target.value)} required />
                            </div>
                            <div className="form-group">
                                <label>Mot de passe</label>
                                <input type="password" className="form-control" value={password} onChange={(e) => setPassword(e.target.value)} required />
                            </div>
                            <button type="submit" className="btn btn-primary" style={{width: '100%', marginBottom: '10px'}}>Se connecter</button>
                            <button type="button" className="btn btn-secondary" style={{width: '100%'}} onClick={onBack}>Retour au site</button>
                        </form>
                        <p style={{marginTop: '20px', color: '#666', fontSize: '14px', textAlign: 'center'}}>
                            Par d√©faut: admin / admin123
                        </p>
                    </div>
                </div>
            );
        }
        
        function PublicInterface({ onAdminClick, darkMode, toggleDarkMode }) {
            const [currentPage, setCurrentPage] = useState('accueil');
            const institutInfo = storage.get('institutInfo', {});
            
            return (
                <>
                    <header className="header">
                        <div className="container">
                            <div className="header-content">
                                <div className="logo-section">
                                    {institutInfo.logo ? <img src={institutInfo.logo} alt="Logo" className="logo" /> : <div className="logo-placeholder">üéì</div>}
                                    <div className="institute-info">
                                        <h1>{institutInfo.name || 'Institut Public de Formation'}</h1>
                                        <p>{institutInfo.address || 'Bienvenue sur notre plateforme'}</p>
                                    </div>
                                </div>
                                <div className="header-actions">
                                    <button className="dark-mode-toggle" onClick={toggleDarkMode}>{darkMode ? '‚òÄÔ∏è' : 'üåô'}</button>
                                    <button className="btn btn-secondary" onClick={onAdminClick}>Administration</button>
                                </div>
                            </div>
                        </div>
                    </header>
                    <div class="welcome-box">
    <p id="welcomeText"></p>
    <p id="clock"></p>
</div>k
                    <nav className="nav">
                        <div className="container">
                            <div className="nav-content">
                                {['accueil', 'specialites', 'programme', 'annonces', 'cours', 'resultats', 'examens'].map(page => (
                                    <button key={page} className={`nav-button ${currentPage === page ? 'active' : ''}`} onClick={() => setCurrentPage(page)}>
                                        {page === 'accueil' && 'üè† Accueil'}
                                        {page === 'specialites' && 'üìö Sp√©cialit√©s'}
                                        {page === 'programme' && 'üìã Programme'}
                                        {page === 'annonces' && 'üì¢ Annonces'}
                                        {page === 'cours' && 'üìñ Cours'}
                                        {page === 'resultats' && 'üìä R√©sultats'}
                                        {page === 'examens' && 'üìÖ Examens'}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>
                    <main style={{minHeight: '60vh', paddingTop: '30px'}}>
                        <div className="container">
                            {currentPage === 'accueil' && <HomePage institutInfo={institutInfo} />}
                            {currentPage === 'specialites' && <SpecialtiesPage />}
                            {currentPage === 'programme' && <ProgrammePage />}
                            {currentPage === 'annonces' && <AnnouncementsPage />}
                            {currentPage === 'cours' && <CoursesPage />}
                            {currentPage === 'resultats' && <ResultsPage />}
                            {currentPage === 'examens' && <ExamsPage />}
                        </div>
                    </main>
                    <footer className="footer">
                        <p>D√©velopp√© par FERHAT Abderrahmane</p>
                        {(institutInfo.facebook || institutInfo.instagram || institutInfo.twitter) && (
                            <div className="social-links" style={{marginTop: '20px'}}>
                                {institutInfo.facebook && (
                                    <a href={institutInfo.facebook} target="_blank" rel="noopener noreferrer" className="social-btn facebook" style={{width: '45px', height: '45px', fontSize: '20px'}} title="Facebook">
                                        <span style={{position: 'relative', zIndex: 1}}>f</span>
                                    </a>
                                )}
                                {institutInfo.instagram && (
                                    <a href={institutInfo.instagram} target="_blank" rel="noopener noreferrer" className="social-btn instagram" style={{width: '45px', height: '45px', fontSize: '20px'}} title="Instagram">
                                        <span style={{position: 'relative', zIndex: 1}}>üì∑</span>
                                    </a>
                                )}
                                {institutInfo.twitter && (
                                    <a href={institutInfo.twitter} target="_blank" rel="noopener noreferrer" className="social-btn twitter" style={{width: '45px', height: '45px', fontSize: '20px'}} title="Twitter">
                                        <span style={{position: 'relative', zIndex: 1}}>üê¶</span>
                                    </a>
                                )}
                            </div>
                        )}
                    </footer>
                </>
            );
        }
        
        function HomePage({ institutInfo }) {
            const specialties = storage.get('specialties', []);
            const announcements = storage.get('announcements', []).slice(0, 3);
            const modules = storage.get('modules', []);
            const courses = storage.get('courses', []);
            const results = storage.get('results', []);
            
            return (
                <div>
                    {/* Hero Section */}
                    <div className="hero-section">
                        <div className="hero-content">
                            <h1 className="hero-title">
                                {institutInfo.name || 'Institut Public de Formation Professionnelle'}
                            </h1>
                            <p className="hero-subtitle">
                                {institutInfo.description || 'Excellence en formation technique et professionnelle - Formez-vous aux m√©tiers de demain avec nos programmes dipl√¥mants de Technicien Sup√©rieur'}
                            </p>
                            <div className="hero-buttons">
                                <button className="btn-hero" onClick={() => window.scrollTo({top: 800, behavior: 'smooth'})}>
                                    üéì D√©couvrir nos formations
                                </button>
                                <button className="btn-hero btn-hero-outline" onClick={() => {
                                    const socialSection = document.querySelector('.social-section');
                                    if (socialSection) {
                                        socialSection.scrollIntoView({behavior: 'smooth', block: 'center'});
                                    } else {
                                        window.scrollTo({top: document.body.scrollHeight - 600, behavior: 'smooth'});
                                    }
                                }}>
                                    üåê Nos r√©seaux sociaux
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Stats Section */}
                    <div className="stats-section">
                        <h2 style={{textAlign: 'center', color: 'var(--dark-gray)', marginBottom: '40px', fontSize: '32px'}}>
                            üìä L'Institut en chiffres
                        </h2>
                        <div className="stats-grid-home">
                            <div className="stat-item">
                                <div className="stat-number">{specialties.length}</div>
                                <div className="stat-label">Sp√©cialit√©s</div>
                            </div>
                            <div className="stat-item">
                                <div className="stat-number">{modules.length}</div>
                                <div className="stat-label">Modules enseign√©s</div>
                            </div>
                            <div className="stat-item">
                                <div className="stat-number">30</div>
                                <div className="stat-label">Mois de formation</div>
                            </div>
                            <div className="stat-item">
                                <div className="stat-number">5</div>
                                <div className="stat-label">Semestres</div>
                            </div>
                            <div className="stat-item">
                                <div className="stat-number">100%</div>
                                <div className="stat-label">Dipl√¥me reconnu</div>
                            </div>
                        </div>
                    </div>

                    {/* Features Section */}
                    <div style={{margin: '60px 0'}}>
                        <h2 style={{textAlign: 'center', color: 'var(--primary-green)', marginBottom: '40px', fontSize: '32px'}}>
                            ‚ú® Pourquoi nous choisir ?
                        </h2>
                        <div className="info-grid">
                            <div className="feature-card">
                                <div className="feature-icon">üéì</div>
                                <h3 className="feature-title">Formation de qualit√©</h3>
                                <p className="feature-description">
                                    Des programmes p√©dagogiques complets et reconnus par l'√âtat, dispens√©s par des formateurs exp√©riment√©s
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">üíº</div>
                                <h3 className="feature-title">Insertion professionnelle</h3>
                                <p className="feature-description">
                                    Un dipl√¥me de Technicien Sup√©rieur valoris√© sur le march√© du travail avec un taux d'employabilit√© √©lev√©
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">üè¢</div>
                                <h3 className="feature-title">Infrastructures modernes</h3>
                                <p className="feature-description">
                                    Des ateliers et laboratoires √©quip√©s pour une formation pratique et professionnelle
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">üë•</div>
                                <h3 className="feature-title">Accompagnement personnalis√©</h3>
                                <p className="feature-description">
                                    Un suivi individualis√© tout au long de votre parcours pour garantir votre r√©ussite
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">üåê</div>
                                <h3 className="feature-title">Ressources en ligne</h3>
                                <p className="feature-description">
                                    Acc√®s √† tous vos cours, r√©sultats et documents administratifs 24h/24 sur cette plateforme
                                </p>
                            </div>
                            <div className="feature-card">
                                <div className="feature-icon">üìö</div>
                                <h3 className="feature-title">Programme complet</h3>
                                <p className="feature-description">
                                    5 semestres de formation intensive couvrant th√©orie et pratique professionnelle
                                </p>
                            </div>
                        </div>
                    </div>

                    {/* Modes de formation */}
                    <div className="card" style={{background: 'linear-gradient(135deg, #f0fdf4 0%, #dbeafe 100%)', borderLeft: '4px solid var(--primary-blue)'}}>
                        <h3 style={{color: 'var(--primary-blue)', marginBottom: '20px', fontSize: '26px'}}>
                            üìã Modes de formation disponibles
                        </h3>
                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '20px'}}>
                            <div style={{padding: '20px', background: 'white', borderRadius: '8px', borderLeft: '3px solid var(--primary-green)'}}>
                                <h4 style={{color: 'var(--primary-green)', marginBottom: '10px'}}>üè´ Pr√©sentiel</h4>
                                <p style={{color: '#666', fontSize: '14px'}}>Formation classique en classe avec pr√©sence obligatoire</p>
                            </div>
                            <div style={{padding: '20px', background: 'white', borderRadius: '8px', borderLeft: '3px solid var(--primary-blue)'}}>
                                <h4 style={{color: 'var(--primary-blue)', marginBottom: '10px'}}>üõ†Ô∏è Apprentissage</h4>
                                <p style={{color: '#666', fontSize: '14px'}}>Alternance entre formation th√©orique et pratique en entreprise</p>
                            </div>
                            <div style={{padding: '20px', background: 'white', borderRadius: '8px', borderLeft: '3px solid var(--primary-red)'}}>
                                <h4 style={{color: 'var(--primary-red)', marginBottom: '10px'}}>üåô Cours du soir</h4>
                                <p style={{color: '#666', fontSize: '14px'}}>Formation adapt√©e pour les travailleurs et √©tudiants</p>
                            </div>
                        </div>
                    </div>

                    {/* Specialties Section */}
                    {specialties.length > 0 && (
                        <div style={{margin: '60px 0'}}>
                            <h2 style={{color: 'var(--primary-green)', marginBottom: '30px', fontSize: '32px', textAlign: 'center'}}>
                                üìö Nos Sp√©cialit√©s
                            </h2>
                            <div className="card-grid">{specialties.map(s => <SpecialtyCard key={s.id} specialty={s} />)}</div>
                        </div>
                    )}

                    {/* Announcements Section */}
                    {announcements.length > 0 && (
                        <div style={{margin: '60px 0'}}>
                            <h2 style={{color: 'var(--primary-red)', marginBottom: '30px', fontSize: '32px', textAlign: 'center'}}>
                                üì¢ Derni√®res Annonces
                            </h2>
                            {announcements.map(a => <AnnouncementCard key={a.id} announcement={a} />)}
                        </div>
                    )}

                    {/* Social Media Section */}
                    {(institutInfo.facebook || institutInfo.instagram || institutInfo.twitter) && (
                        <div className="social-section">
                            <h3>üåê Suivez-nous sur les r√©seaux sociaux</h3>
                            <p>Restez connect√©s et ne manquez aucune actualit√© de notre institut</p>
                            <div className="social-links">
                                {institutInfo.facebook && (
                                    <a href={institutInfo.facebook} target="_blank" rel="noopener noreferrer" className="social-btn facebook" title="Facebook">
                                        <span style={{position: 'relative', zIndex: 1}}>f</span>
                                    </a>
                                )}
                                {institutInfo.instagram && (
                                    <a href={institutInfo.instagram} target="_blank" rel="noopener noreferrer" className="social-btn instagram" title="Instagram">
                                        <span style={{position: 'relative', zIndex: 1}}>üì∑</span>
                                    </a>
                                )}
                                {institutInfo.twitter && (
                                    <a href={institutInfo.twitter} target="_blank" rel="noopener noreferrer" className="social-btn twitter" title="Twitter">
                                        <span style={{position: 'relative', zIndex: 1}}>üê¶</span>
                                    </a>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Contact Info */}
                    {(institutInfo.email || institutInfo.phone) && (
                        <div className="card" style={{background: 'linear-gradient(135deg, #fee2e2 0%, #fef3c7 100%)', borderLeft: '4px solid var(--primary-red)', textAlign: 'center'}}>
                            <h3 style={{color: 'var(--primary-red)', marginBottom: '20px', fontSize: '26px'}}>
                                üìû Contactez-nous
                            </h3>
                            <div style={{display: 'flex', justifyContent: 'center', gap: '40px', flexWrap: 'wrap', fontSize: '18px'}}>
                                {institutInfo.email && (
                                    <div>
                                        <strong style={{color: 'var(--primary-blue)'}}>üìß Email:</strong> {institutInfo.email}
                                    </div>
                                )}
                                {institutInfo.phone && (
                                    <div>
                                        <strong style={{color: 'var(--primary-green)'}}>üì± T√©l√©phone:</strong> {institutInfo.phone}
                                    </div>
                                )}
                            </div>
                            {institutInfo.address && (
                                <div style={{marginTop: '15px', fontSize: '16px', color: '#666'}}>
                                    <strong>üìç Adresse:</strong> {institutInfo.address}
                                </div>
                            )}
                        </div>
                    )}

                    {/* Empty State */}
                    {specialties.length === 0 && (
                        <div className="empty-state">
                            <div className="empty-state-icon">üìö</div>
                            <h3>Bienvenue sur notre plateforme</h3>
                            <p>Les informations sur nos sp√©cialit√©s seront bient√¥t disponibles</p>
                        </div>
                    )}
                </div>
            );
        }
        
        function SpecialtyCard({ specialty }) {
            return (
                <div className="specialty-card">
                    {specialty.image ? <img src={specialty.image} alt={specialty.name} className="specialty-image" /> : <div className="specialty-image-placeholder">üìö</div>}
                    <div className="specialty-content">
                        <h3>{specialty.name}</h3>
                        <p>{specialty.description}</p>
                        <div style={{marginTop: '10px', fontSize: '14px', color: '#666'}}>
                            <div>‚è±Ô∏è Dur√©e: 30 mois (5 semestres)</div>
                            <div>üéì Dipl√¥me: Technicien Sup√©rieur</div>
                        </div>
                    </div>
                </div>
            );
        }
        
        function SpecialtiesPage() {
            const specialties = storage.get('specialties', []);
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üìö Nos Sp√©cialit√©s de Formation</h2>
                    {specialties.length > 0 ? <div className="card-grid">{specialties.map(s => <SpecialtyCard key={s.id} specialty={s} />)}</div> : <div className="empty-state"><div className="empty-state-icon">üìö</div><h3>Aucune sp√©cialit√© disponible</h3></div>}
                </div>
            );
        }
        
        function ProgrammePage() {
            const [selectedSpecialty, setSelectedSpecialty] = useState('');
            const [selectedSemester, setSelectedSemester] = useState('');
            const specialties = storage.get('specialties', []);
            const modules = storage.get('modules', []).filter(m => 
                (!selectedSpecialty || m.specialtyId === selectedSpecialty) &&
                (!selectedSemester || m.semester === selectedSemester)
            );
            
            // Grouper les modules par semestre
            const modulesBySemester = {};
            modules.forEach(m => {
                if (!modulesBySemester[m.semester]) {
                    modulesBySemester[m.semester] = [];
                }
                modulesBySemester[m.semester].push(m);
            });
            
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üìã Programme P√©dagogique</h2>
                    
                    <div className="filters">
                        <div className="filter-row">
                            <div className="form-group">
                                <label>Sp√©cialit√©</label>
                                <select className="form-control" value={selectedSpecialty} onChange={(e) => setSelectedSpecialty(e.target.value)}>
                                    <option value="">Toutes les sp√©cialit√©s</option>
                                    {specialties.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}
                                </select>
                            </div>
                            <div className="form-group">
                                <label>Semestre</label>
                                <select className="form-control" value={selectedSemester} onChange={(e) => setSelectedSemester(e.target.value)}>
                                    <option value="">Tous les semestres</option>
                                    {[1,2,3,4,5].map(s => <option key={s} value={s}>Semestre {s}</option>)}
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    {Object.keys(modulesBySemester).length > 0 ? (
                        <div>
                            {Object.keys(modulesBySemester).sort().map(semester => (
                                <div key={semester} style={{marginBottom: '40px'}}>
                                    <h3 style={{color: 'var(--primary-green)', marginBottom: '20px', fontSize: '22px', borderBottom: '2px solid var(--primary-green)', paddingBottom: '10px'}}>
                                        üìö Semestre {semester}
                                    </h3>
                                    <div className="card-grid">
                                        {modulesBySemester[semester].map(module => {
                                            const specialty = specialties.find(s => s.id === module.specialtyId);
                                            return (
                                                <div key={module.id} className="card" style={{background: 'linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%)'}}>
                                                    <div style={{display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '15px'}}>
                                                        <h4 style={{color: 'var(--primary-green)', fontSize: '18px', margin: 0, flex: 1}}>{module.name}</h4>
                                                        <span className="badge badge-primary">{module.credits} Cr√©dits</span>
                                                    </div>
                                                    <p style={{color: '#666', fontSize: '14px', marginBottom: '12px'}}>{module.description}</p>
                                                    <div style={{display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '12px'}}>
                                                        <span className="badge badge-secondary">‚è±Ô∏è {module.hours}h</span>
                                                        <span className="badge badge-secondary">üìä Coef. {module.coefficient}</span>
                                                        {specialty && <span className="badge" style={{background: '#e0e0e0', color: '#333'}}>{specialty.name}</span>}
                                                    </div>
                                                    {module.objectives && (
                                                        <div style={{marginTop: '15px', padding: '12px', background: 'rgba(0,133,77,0.05)', borderRadius: '6px', borderLeft: '3px solid var(--accent-green)'}}>
                                                            <strong style={{color: 'var(--dark-green)', fontSize: '13px'}}>üéØ Objectifs:</strong>
                                                            <p style={{fontSize: '13px', color: '#555', margin: '8px 0 0 0', lineHeight: '1.6'}}>{module.objectives}</p>
                                                        </div>
                                                    )}
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            ))}
                        </div>
                    ) : (
                        <div className="empty-state">
                            <div className="empty-state-icon">üìã</div>
                            <h3>Aucun module disponible</h3>
                            <p>Les modules du programme p√©dagogique seront ajout√©s prochainement</p>
                        </div>
                    )}
                </div>
            );
        }
        
        function AnnouncementCard({ announcement }) {
            const incrementDownload = () => {
                if (announcement.file) {
                    const all = storage.get('announcements', []);
                    storage.set('announcements', all.map(a => a.id === announcement.id ? {...a, downloads: (a.downloads || 0) + 1} : a));
                }
            };
            return (
                <div className="announcement-card">
                    <div className="announcement-date">üìÖ {new Date(announcement.date).toLocaleDateString('fr-FR')}</div>
                    <h3>{announcement.title}</h3>
                    <p>{announcement.content}</p>
                    {announcement.file && <div style={{marginTop: '15px'}}><a href={announcement.file} download className="btn btn-primary btn-sm" onClick={incrementDownload}>üì• T√©l√©charger ({announcement.downloads || 0})</a></div>}
                </div>
            );
        }
        
        function AnnouncementsPage() {
            const announcements = storage.get('announcements', []);
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üì¢ Annonces Officielles</h2>
                    {announcements.length > 0 ? announcements.map(a => <AnnouncementCard key={a.id} announcement={a} />) : <div className="empty-state"><div className="empty-state-icon">üì¢</div><h3>Aucune annonce</h3></div>}
                </div>
            );
        }
        
        function CoursesPage() {
            const [filters, setFilters] = useState({ specialty: '', semester: '', group: '', mode: '', type: 'normal', module: '' });
            const specialties = storage.get('specialties', []);
            const groups = storage.get('groups', []);
            const courses = storage.get('courses', []).filter(c => 
                (!filters.specialty || c.specialtyId === filters.specialty) &&
                (!filters.semester || c.semester === filters.semester) &&
                (!filters.group || c.groupId === filters.group) &&
                (!filters.mode || c.mode === filters.mode) &&
                (!filters.type || c.type === filters.type) &&
                (!filters.module || c.module === filters.module)
            );
            
            // Extraire la liste unique des modules
            const modules = [...new Set(courses.map(c => c.module).filter(Boolean))].sort();
            
            const incrementDownload = (id) => {
                const all = storage.get('courses', []);
                storage.set('courses', all.map(c => c.id === id ? {...c, downloads: (c.downloads || 0) + 1} : c));
            };
            
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üìñ Cours et Documents</h2>
                    <div className="filters">
                        <div className="filter-row">
                            <div className="form-group"><label>Type</label><select className="form-control" value={filters.type} onChange={(e) => setFilters({...filters, type: e.target.value})}><option value="normal">Cours Normaux</option><option value="rattrapage">Rattrapages</option></select></div>
                            <div className="form-group"><label>Sp√©cialit√©</label><select className="form-control" value={filters.specialty} onChange={(e) => setFilters({...filters, specialty: e.target.value})}><option value="">Toutes</option>{specialties.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}</select></div>
                            <div className="form-group"><label>Semestre</label><select className="form-control" value={filters.semester} onChange={(e) => setFilters({...filters, semester: e.target.value})}><option value="">Tous</option>{[1,2,3,4,5].map(s => <option key={s} value={s}>S{s}</option>)}</select></div>
                            <div className="form-group"><label>Module</label><select className="form-control" value={filters.module} onChange={(e) => setFilters({...filters, module: e.target.value})}><option value="">Tous les modules</option>{modules.map(m => <option key={m} value={m}>{m}</option>)}</select></div>
                            <div className="form-group"><label>Mode</label><select className="form-control" value={filters.mode} onChange={(e) => setFilters({...filters, mode: e.target.value})}><option value="">Tous</option><option value="presentiel">Pr√©sentiel</option><option value="apprentissage">Apprentissage</option><option value="soir">Soir</option></select></div>
                            <div className="form-group"><label>Groupe</label><select className="form-control" value={filters.group} onChange={(e) => setFilters({...filters, group: e.target.value})}><option value="">Tous</option>{groups.map(g => <option key={g.id} value={g.id}>{g.name}</option>)}</select></div>
                        </div>
                    </div>
                    {courses.length > 0 ? <ul className="document-list">{courses.map(c => {
                        const spec = specialties.find(s => s.id === c.specialtyId);
                        const grp = groups.find(g => g.id === c.groupId);
                        return (
                            <li key={c.id} className="document-item">
                                <div className="document-info">
                                    <h4>{c.title}</h4>
                                    <div className="document-meta">
                                        <span className="badge badge-primary">{spec?.name}</span>
                                        <span className="badge badge-secondary">S{c.semester}</span>
                                        {c.module && <span className="badge badge-secondary">üìö {c.module}</span>}
                                        <span className="badge badge-secondary">{c.mode}</span>
                                        {grp && <span className="badge badge-secondary">{grp.name}</span>}
                                        {c.type === 'rattrapage' && <span className="badge" style={{background: '#ff9800', color: 'white'}}>Rattrapage</span>}
                                    </div>
                                </div>
                                <div style={{display: 'flex', alignItems: 'center', gap: '15px'}}>
                                    <span className="download-count">üì• {c.downloads || 0}</span>
                                    {c.file && <a href={c.file} download className="btn btn-primary btn-sm" onClick={() => incrementDownload(c.id)}>T√©l√©charger</a>}
                                </div>
                            </li>
                        );
                    })}</ul> : <div className="empty-state"><div className="empty-state-icon">üìñ</div><h3>Aucun cours disponible</h3></div>}
                </div>
            );
        }
        
        function ResultsPage() {
            const [filters, setFilters] = useState({ specialty: '', semester: '', group: '', mode: '', type: 'normal' });
            const specialties = storage.get('specialties', []);
            const groups = storage.get('groups', []);
            const results = storage.get('results', []).filter(r => 
                (!filters.specialty || r.specialtyId === filters.specialty) &&
                (!filters.semester || r.semester === filters.semester) &&
                (!filters.group || r.groupId === filters.group) &&
                (!filters.mode || r.mode === filters.mode) &&
                (!filters.type || r.type === filters.type)
            );
            
            const incrementDownload = (id) => {
                const all = storage.get('results', []);
                storage.set('results', all.map(r => r.id === id ? {...r, downloads: (r.downloads || 0) + 1} : r));
            };
            
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üìä R√©sultats d'Examens</h2>
                    <div className="filters">
                        <div className="filter-row">
                            <div className="form-group"><label>Type</label><select className="form-control" value={filters.type} onChange={(e) => setFilters({...filters, type: e.target.value})}><option value="normal">R√©sultats Normaux</option><option value="rattrapage">Rattrapages</option></select></div>
                            <div className="form-group"><label>Sp√©cialit√©</label><select className="form-control" value={filters.specialty} onChange={(e) => setFilters({...filters, specialty: e.target.value})}><option value="">Toutes</option>{specialties.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}</select></div>
                            <div className="form-group"><label>Semestre</label><select className="form-control" value={filters.semester} onChange={(e) => setFilters({...filters, semester: e.target.value})}><option value="">Tous</option>{[1,2,3,4,5].map(s => <option key={s} value={s}>S{s}</option>)}</select></div>
                            <div className="form-group"><label>Mode</label><select className="form-control" value={filters.mode} onChange={(e) => setFilters({...filters, mode: e.target.value})}><option value="">Tous</option><option value="presentiel">Pr√©sentiel</option><option value="apprentissage">Apprentissage</option><option value="soir">Soir</option></select></div>
                            <div className="form-group"><label>Groupe</label><select className="form-control" value={filters.group} onChange={(e) => setFilters({...filters, group: e.target.value})}><option value="">Tous</option>{groups.map(g => <option key={g.id} value={g.id}>{g.name}</option>)}</select></div>
                        </div>
                    </div>
                    {results.length > 0 ? <ul className="document-list">{results.map(r => {
                        const spec = specialties.find(s => s.id === r.specialtyId);
                        const grp = groups.find(g => g.id === r.groupId);
                        return (
                            <li key={r.id} className="document-item">
                                <div className="document-info">
                                    <h4>{r.title}</h4>
                                    <div className="document-meta">
                                        <span className="badge badge-primary">{spec?.name}</span>
                                        <span className="badge badge-secondary">S{r.semester}</span>
                                        <span className="badge badge-secondary">{r.mode}</span>
                                        {grp && <span className="badge badge-secondary">{grp.name}</span>}
                                        {r.type === 'rattrapage' && <span className="badge" style={{background: '#ff9800', color: 'white'}}>Rattrapage</span>}
                                    </div>
                                </div>
                                <div style={{display: 'flex', alignItems: 'center', gap: '15px'}}>
                                    <span className="download-count">üì• {r.downloads || 0}</span>
                                    {r.file && <a href={r.file} download className="btn btn-primary btn-sm" onClick={() => incrementDownload(r.id)}>T√©l√©charger</a>}
                                </div>
                            </li>
                        );
                    })}</ul> : <div className="empty-state"><div className="empty-state-icon">üìä</div><h3>Aucun r√©sultat disponible</h3></div>}
                </div>
            );
        }
        
        function ExamsPage() {
            const [selectedMode, setSelectedMode] = useState('');
            const exams = storage.get('exams', []).filter(e => !selectedMode || e.mode === selectedMode);
            
            const incrementDownload = (id) => {
                const all = storage.get('exams', []);
                storage.set('exams', all.map(e => e.id === id ? {...e, downloads: (e.downloads || 0) + 1} : e));
            };
            
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üìÖ Tableaux des Examens</h2>
                    <div className="filters">
                        <div className="form-group"><label>Mode</label><select className="form-control" value={selectedMode} onChange={(e) => setSelectedMode(e.target.value)}><option value="">Tous</option><option value="presentiel">Pr√©sentiel</option><option value="apprentissage">Apprentissage</option><option value="soir">Soir</option></select></div>
                    </div>
                    {exams.length > 0 ? <ul className="document-list">{exams.map(e => (
                        <li key={e.id} className="document-item">
                            <div className="document-info">
                                <h4>{e.title}</h4>
                                <div className="document-meta">
                                    <span className="badge badge-primary">{e.mode}</span>
                                    <span className="badge badge-secondary">üìÖ {new Date(e.date).toLocaleDateString('fr-FR')}</span>
                                </div>
                            </div>
                            <div style={{display: 'flex', alignItems: 'center', gap: '15px'}}>
                                <span className="download-count">üì• {e.downloads || 0}</span>
                                {e.file && <a href={e.file} download className="btn btn-primary btn-sm" onClick={() => incrementDownload(e.id)}>T√©l√©charger</a>}
                            </div>
                        </li>
                    ))}</ul> : <div className="empty-state"><div className="empty-state-icon">üìÖ</div><h3>Aucun tableau disponible</h3></div>}
                </div>
            );
        }
        
        function AdminInterface({ onLogout, darkMode, toggleDarkMode }) {
            const [currentSection, setCurrentSection] = useState('dashboard');
            return (
                <>
                    <header className="header">
                        <div className="container">
                            <div className="header-content">
                                <div className="institute-info">
                                    <h1>üîê Administration</h1>
                                    <p>Gestion de l'institut</p>
                                </div>
                                <div className="header-actions">
                                    <button className="dark-mode-toggle" onClick={toggleDarkMode}>{darkMode ? '‚òÄÔ∏è' : 'üåô'}</button>
                                    <button className="btn btn-secondary" onClick={onLogout}>D√©connexion</button>
                                </div>
                            </div>
                        </div>
                    </header>
                    <div className="container" style={{marginTop: '30px'}}>
                        <div style={{display: 'grid', gridTemplateColumns: '250px 1fr', gap: '20px'}}>
                            <div className="admin-sidebar">
                                {['dashboard', 'institute', 'specialties', 'modules', 'groups', 'announcements', 'courses', 'results', 'exams'].map(section => (
                                    <div key={section} className={`admin-menu-item ${currentSection === section ? 'active' : ''}`} onClick={() => setCurrentSection(section)}>
                                        {section === 'dashboard' && 'üìä Tableau de bord'}
                                        {section === 'institute' && 'üèõÔ∏è Informations Institut'}
                                        {section === 'specialties' && 'üìö Sp√©cialit√©s'}
                                        {section === 'modules' && 'üìã Modules'}
                                        {section === 'groups' && 'üë• Groupes'}
                                        {section === 'announcements' && 'üì¢ Annonces'}
                                        {section === 'courses' && 'üìñ Cours'}
                                        {section === 'results' && 'üìä R√©sultats'}
                                        {section === 'exams' && 'üìÖ Examens'}
                                    </div>
                                ))}
                            </div>
                            <div>
                                {currentSection === 'dashboard' && <Dashboard />}
                                {currentSection === 'institute' && <InstituteSettings />}
                                {currentSection === 'specialties' && <SpecialtiesAdmin />}
                                {currentSection === 'modules' && <ModulesAdmin />}
                                {currentSection === 'groups' && <GroupsAdmin />}
                                {currentSection === 'announcements' && <AnnouncementsAdmin />}
                                {currentSection === 'courses' && <CoursesAdmin />}
                                {currentSection === 'results' && <ResultsAdmin />}
                                {currentSection === 'exams' && <ExamsAdmin />}
                            </div>
                        </div>
                    </div>
                    <footer className="footer">
                        <p>D√©velopp√© par FERHAT Abderrahmane</p>
                        {(() => {
                            const info = storage.get('institutInfo', {});
                            return (info.facebook || info.instagram || info.twitter) ? (
                                <div className="social-links" style={{marginTop: '20px'}}>
                                    {info.facebook && (
                                        <a href={info.facebook} target="_blank" rel="noopener noreferrer" className="social-btn facebook" style={{width: '45px', height: '45px', fontSize: '20px'}} title="Facebook">
                                            <span style={{position: 'relative', zIndex: 1}}>f</span>
                                        </a>
                                    )}
                                    {info.instagram && (
                                        <a href={info.instagram} target="_blank" rel="noopener noreferrer" className="social-btn instagram" style={{width: '45px', height: '45px', fontSize: '20px'}} title="Instagram">
                                            <span style={{position: 'relative', zIndex: 1}}>üì∑</span>
                                        </a>
                                    )}
                                    {info.twitter && (
                                        <a href={info.twitter} target="_blank" rel="noopener noreferrer" className="social-btn twitter" style={{width: '45px', height: '45px', fontSize: '20px'}} title="Twitter">
                                            <span style={{position: 'relative', zIndex: 1}}>üê¶</span>
                                        </a>
                                    )}
                                </div>
                            ) : null;
                        })()}
                    </footer>
                </>
            );
        }
        
        function Dashboard() {
            const specialties = storage.get('specialties', []);
            const modules = storage.get('modules', []);
            const groups = storage.get('groups', []);
            const courses = storage.get('courses', []);
            const results = storage.get('results', []);
            const announcements = storage.get('announcements', []);
            const exams = storage.get('exams', []);
            const totalDownloads = [...courses, ...results, ...announcements, ...exams].reduce((sum, item) => sum + (item.downloads || 0), 0);
            
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üìä Tableau de bord</h2>
                    <div className="stats-grid">
                        <div className="stat-card"><h3>{specialties.length}</h3><p>Sp√©cialit√©s</p></div>
                        <div className="stat-card"><h3>{modules.length}</h3><p>Modules</p></div>
                        <div className="stat-card"><h3>{groups.length}</h3><p>Groupes</p></div>
                        <div className="stat-card"><h3>{courses.length}</h3><p>Cours</p></div>
                        <div className="stat-card"><h3>{results.length}</h3><p>R√©sultats</p></div>
                        <div className="stat-card"><h3>{announcements.length}</h3><p>Annonces</p></div>
                        <div className="stat-card"><h3>{exams.length}</h3><p>Examens</p></div>
                        <div className="stat-card"><h3>{totalDownloads}</h3><p>Total T√©l√©chargements</p></div>
                    </div>
                    <div className="card">
                        <h3 style={{color: 'var(--primary-green)', marginBottom: '15px'}}>üìà Statistiques d√©taill√©es</h3>
                        <ul style={{lineHeight: '2'}}>
                            <li>Cours : {courses.reduce((s, c) => s + (c.downloads || 0), 0)} t√©l√©chargements</li>
                            <li>R√©sultats : {results.reduce((s, r) => s + (r.downloads || 0), 0)} t√©l√©chargements</li>
                            <li>Annonces : {announcements.reduce((s, a) => s + (a.downloads || 0), 0)} t√©l√©chargements</li>
                            <li>Examens : {exams.reduce((s, e) => s + (e.downloads || 0), 0)} t√©l√©chargements</li>
                        </ul>
                    </div>
                </div>
            );
        }
        
        function InstituteSettings() {
            const [info, setInfo] = useState(storage.get('institutInfo', {}));
            const [logoFile, setLogoFile] = useState(null);
            const [message, setMessage] = useState('');
            
            const handleLogoChange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setInfo({...info, logo: reader.result});
                        setLogoFile(file.name);
                    };
                    reader.readAsDataURL(file);
                }
            };
            
            const handleSave = () => {
                storage.set('institutInfo', info);
                setMessage('Enregistr√©!');
                setTimeout(() => setMessage(''), 3000);
            };
            
            return (
                <div>
                    <h2 style={{color: 'var(--primary-green)', marginBottom: '25px'}}>üèõÔ∏è Informations de l'Institut</h2>
                    {message && <div className="alert alert-success">{message}</div>}
                    <div className="card">
                        <div className="form-group"><label>Nom *</label><input type="text" className="form-control" value={info.name || ''} onChange={(e) => setInfo({...info, name: e.target.value})} placeholder="Institut National..." /></div>
                        <div className="form-group"><label>Adresse</label><input type="text" className="form-control" value={info.address || ''} onChange={(e) => setInfo({...info, address: e.target.value})} placeholder="Blida, Alg√©rie" /></div>
                        <div className="form-group"><label>Description</label><textarea className="form-control" value={info.description || ''} onChange={(e) => setInfo({...info, description: e.target.value})} /></div>
                        <div className="form-group"><label>Email</label><input type="email" className="form-control" value={info.email || ''} onChange={(e) => setInfo({...info, email: e.target.value})} placeholder="contact@institut.dz" /></div>
                        <div className="form-group"><label>T√©l√©phone</label><input type="tel" className="form-control" value={info.phone || ''} onChange={(e) => setInfo({...info, phone: e.target.value})} placeholder="025 XX XX XX" /></div>
                        <div className="form-group">
                            <label>Logo</label>
                            <div className="file-input-wrapper"><label className="file-input-label">Choisir<input type="file" accept="image/*" onChange={handleLogoChange} /></label></div>
                            {logoFile && <div className="selected-file">üìé {logoFile}</div>}
                            {info.logo && <img src={info.logo} alt="Logo" style={{maxWidth: '200px', borderRadius: '8px', marginTop: '15px'}} />}
                        </div>
                        <h3 style={{color: 'var(--primary-blue)', marginTop: '30px', marginBottom: '20px', borderTop: '2px solid var(--light-gray)', paddingTop: '20px'}}>üåê R√©seaux Sociaux</h3>
                        <div className="form-group"><label>Facebook</label><input type="url" className="form-control" value={info.facebook || ''} onChange={(e) => setInfo({...info, facebook: e.target.value})} placeholder="https://facebook.com/votre-page" /></div>
                        <div className="form-group"><label>Instagram</label><input type="url" className="form-control" value={info.instagram || ''} onChange={(e) => setInfo({...info, instagram: e.target.value})} placeholder="https://instagram.com/votre-compte" /></div>
                        <div className="form-group"><label>Twitter</label><input type="url" className="form-control" value={info.twitter || ''} onChange={(e) => setInfo({...info, twitter: e.target.value})} placeholder="https://twitter.com/votre-compte" /></div>
                        <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                    </div>
                </div>
            );
        }
        
        function SpecialtiesAdmin() {
            const [items, setItems] = useState(storage.get('specialties', []));
            const [showModal, setShowModal] = useState(false);
            const [editing, setEditing] = useState(null);
            const [form, setForm] = useState({ name: '', description: '', image: '' });
            const [file, setFile] = useState(null);
            
            const handleFileChange = (e) => {
                const f = e.target.files[0];
                if (f) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setForm({...form, image: reader.result});
                        setFile(f.name);
                    };
                    reader.readAsDataURL(f);
                }
            };
            
            const handleSave = () => {
                if (!form.name) return alert('Nom obligatoire');
                let updated;
                if (editing) {
                    updated = items.map(i => i.id === editing.id ? {...form, id: i.id} : i);
                } else {
                    updated = [...items, {...form, id: Date.now().toString()}];
                }
                setItems(updated);
                storage.set('specialties', updated);
                setShowModal(false);
                setForm({ name: '', description: '', image: '' });
                setEditing(null);
                setFile(null);
            };
            
            const handleEdit = (item) => {
                setEditing(item);
                setForm(item);
                setShowModal(true);
            };
            
            const handleDelete = (id) => {
                if (confirm('Supprimer?')) {
                    const updated = items.filter(i => i.id !== id);
                    setItems(updated);
                    storage.set('specialties', updated);
                }
            };
            
            return (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '25px'}}>
                        <h2 style={{color: 'var(--primary-green)', margin: 0}}>üìö Sp√©cialit√©s</h2>
                        <button className="btn btn-primary" onClick={() => setShowModal(true)}>‚ûï Nouveau</button>
                    </div>
                    {items.length > 0 ? (
                        <div className="table-container">
                            <table>
                                <thead><tr><th>Nom</th><th>Description</th><th>Image</th><th>Actions</th></tr></thead>
                                <tbody>
                                    {items.map(i => (
                                        <tr key={i.id}>
                                            <td>{i.name}</td>
                                            <td>{i.description}</td>
                                            <td>{i.image ? '‚úÖ' : '‚ùå'}</td>
                                            <td>
                                                <div className="action-buttons">
                                                    <button className="btn btn-secondary btn-sm" onClick={() => handleEdit(i)}>‚úèÔ∏è</button>
                                                    <button className="btn btn-danger btn-sm" onClick={() => handleDelete(i.id)}>üóëÔ∏è</button>
                                                </div>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    ) : <div className="empty-state"><div className="empty-state-icon">üìö</div><h3>Aucune sp√©cialit√©</h3></div>}
                    {showModal && (
                        <div className="modal-overlay" onClick={() => setShowModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>{editing ? 'Modifier' : 'Nouvelle'} Sp√©cialit√©</h2>
                                    <button className="close-btn" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group"><label>Nom *</label><input type="text" className="form-control" value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} /></div>
                                    <div className="form-group"><label>Description</label><textarea className="form-control" value={form.description} onChange={(e) => setForm({...form, description: e.target.value})} /></div>
                                    <div className="form-group">
                                        <label>Image</label>
                                        <div className="file-input-wrapper"><label className="file-input-label">Choisir<input type="file" accept="image/*" onChange={handleFileChange} /></label></div>
                                        {file && <div className="selected-file">üìé {file}</div>}
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={() => setShowModal(false)}>Annuler</button>
                                    <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        function ModulesAdmin() {
            const [items, setItems] = useState(storage.get('modules', []));
            const [showModal, setShowModal] = useState(false);
            const [editing, setEditing] = useState(null);
            const [form, setForm] = useState({ name: '', specialtyId: '', semester: '', credits: '', hours: '', coefficient: '', description: '', objectives: '' });
            const specialties = storage.get('specialties', []);
            
            const handleSave = () => {
                if (!form.name || !form.specialtyId || !form.semester) return alert('Nom, sp√©cialit√© et semestre sont obligatoires');
                let updated;
                if (editing) {
                    updated = items.map(i => i.id === editing.id ? {...form, id: i.id} : i);
                } else {
                    updated = [...items, {...form, id: Date.now().toString()}];
                }
                setItems(updated);
                storage.set('modules', updated);
                setShowModal(false);
                setForm({ name: '', specialtyId: '', semester: '', credits: '', hours: '', coefficient: '', description: '', objectives: '' });
                setEditing(null);
            };
            
            const handleEdit = (item) => {
                setEditing(item);
                setForm(item);
                setShowModal(true);
            };
            
            const handleDelete = (id) => {
                if (confirm('Supprimer ce module?')) {
                    const updated = items.filter(i => i.id !== id);
                    setItems(updated);
                    storage.set('modules', updated);
                }
            };
            
            return (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '25px'}}>
                        <h2 style={{color: 'var(--primary-green)', margin: 0}}>üìã Gestion des Modules</h2>
                        <button className="btn btn-primary" onClick={() => setShowModal(true)}>‚ûï Nouveau Module</button>
                    </div>
                    {items.length > 0 ? (
                        <div className="table-container">
                            <table>
                                <thead><tr><th>Module</th><th>Sp√©cialit√©</th><th>Semestre</th><th>Cr√©dits</th><th>Heures</th><th>Coef.</th><th>Actions</th></tr></thead>
                                <tbody>
                                    {items.map(i => {
                                        const spec = specialties.find(s => s.id === i.specialtyId);
                                        return (
                                            <tr key={i.id}>
                                                <td>{i.name}</td>
                                                <td>{spec?.name || 'N/A'}</td>
                                                <td>S{i.semester}</td>
                                                <td>{i.credits}</td>
                                                <td>{i.hours}h</td>
                                                <td>{i.coefficient}</td>
                                                <td>
                                                    <div className="action-buttons">
                                                        <button className="btn btn-secondary btn-sm" onClick={() => handleEdit(i)}>‚úèÔ∏è</button>
                                                        <button className="btn btn-danger btn-sm" onClick={() => handleDelete(i.id)}>üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    ) : <div className="empty-state"><div className="empty-state-icon">üìã</div><h3>Aucun module</h3><p>Ajoutez les modules du programme p√©dagogique</p></div>}
                    {showModal && (
                        <div className="modal-overlay" onClick={() => setShowModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>{editing ? 'Modifier' : 'Nouveau'} Module</h2>
                                    <button className="close-btn" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group"><label>Nom du module *</label><input type="text" className="form-control" value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} placeholder="Ex: Math√©matiques, Programmation, etc." /></div>
                                    <div className="form-group"><label>Sp√©cialit√© *</label><select className="form-control" value={form.specialtyId} onChange={(e) => setForm({...form, specialtyId: e.target.value})}><option value="">S√©lectionner</option>{specialties.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}</select></div>
                                    <div className="form-group"><label>Semestre *</label><select className="form-control" value={form.semester} onChange={(e) => setForm({...form, semester: e.target.value})}><option value="">S√©lectionner</option>{[1,2,3,4,5].map(s => <option key={s} value={s}>Semestre {s}</option>)}</select></div>
                                    <div style={{display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '15px'}}>
                                        <div className="form-group"><label>Cr√©dits</label><input type="number" className="form-control" value={form.credits} onChange={(e) => setForm({...form, credits: e.target.value})} placeholder="6" /></div>
                                        <div className="form-group"><label>Volume horaire</label><input type="number" className="form-control" value={form.hours} onChange={(e) => setForm({...form, hours: e.target.value})} placeholder="45" /></div>
                                        <div className="form-group"><label>Coefficient</label><input type="number" className="form-control" value={form.coefficient} onChange={(e) => setForm({...form, coefficient: e.target.value})} placeholder="2" /></div>
                                    </div>
                                    <div className="form-group"><label>Description</label><textarea className="form-control" value={form.description} onChange={(e) => setForm({...form, description: e.target.value})} placeholder="Br√®ve description du module..." /></div>
                                    <div className="form-group"><label>Objectifs p√©dagogiques</label><textarea className="form-control" value={form.objectives} onChange={(e) => setForm({...form, objectives: e.target.value})} placeholder="Objectifs d'apprentissage..." /></div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={() => setShowModal(false)}>Annuler</button>
                                    <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        function GroupsAdmin() {
            const [items, setItems] = useState(storage.get('groups', []));
            const [showModal, setShowModal] = useState(false);
            const [editing, setEditing] = useState(null);
            const [form, setForm] = useState({ name: '', specialtyId: '', mode: '', year: '' });
            const specialties = storage.get('specialties', []);
            
            const handleSave = () => {
                if (!form.name || !form.specialtyId || !form.mode) return alert('Champs obligatoires manquants');
                let updated;
                if (editing) {
                    updated = items.map(i => i.id === editing.id ? {...form, id: i.id} : i);
                } else {
                    updated = [...items, {...form, id: Date.now().toString()}];
                }
                setItems(updated);
                storage.set('groups', updated);
                setShowModal(false);
                setForm({ name: '', specialtyId: '', mode: '', year: '' });
                setEditing(null);
            };
            
            const handleEdit = (item) => {
                setEditing(item);
                setForm(item);
                setShowModal(true);
            };
            
            const handleDelete = (id) => {
                if (confirm('Supprimer?')) {
                    const updated = items.filter(i => i.id !== id);
                    setItems(updated);
                    storage.set('groups', updated);
                }
            };
            
            return (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '25px'}}>
                        <h2 style={{color: 'var(--primary-green)', margin: 0}}>üë• Groupes</h2>
                        <button className="btn btn-primary" onClick={() => setShowModal(true)}>‚ûï Nouveau</button>
                    </div>
                    {items.length > 0 ? (
                        <div className="table-container">
                            <table>
                                <thead><tr><th>Nom</th><th>Sp√©cialit√©</th><th>Mode</th><th>Ann√©e</th><th>Actions</th></tr></thead>
                                <tbody>
                                    {items.map(i => {
                                        const spec = specialties.find(s => s.id === i.specialtyId);
                                        return (
                                            <tr key={i.id}>
                                                <td>{i.name}</td>
                                                <td>{spec?.name || 'N/A'}</td>
                                                <td>{i.mode}</td>
                                                <td>{i.year}</td>
                                                <td>
                                                    <div className="action-buttons">
                                                        <button className="btn btn-secondary btn-sm" onClick={() => handleEdit(i)}>‚úèÔ∏è</button>
                                                        <button className="btn btn-danger btn-sm" onClick={() => handleDelete(i.id)}>üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    ) : <div className="empty-state"><div className="empty-state-icon">üë•</div><h3>Aucun groupe</h3></div>}
                    {showModal && (
                        <div className="modal-overlay" onClick={() => setShowModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>{editing ? 'Modifier' : 'Nouveau'} Groupe</h2>
                                    <button className="close-btn" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group"><label>Nom *</label><input type="text" className="form-control" value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} /></div>
                                    <div className="form-group"><label>Sp√©cialit√© *</label><select className="form-control" value={form.specialtyId} onChange={(e) => setForm({...form, specialtyId: e.target.value})}><option value="">S√©lectionner</option>{specialties.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}</select></div>
                                    <div className="form-group"><label>Mode *</label><select className="form-control" value={form.mode} onChange={(e) => setForm({...form, mode: e.target.value})}><option value="">S√©lectionner</option><option value="presentiel">Pr√©sentiel</option><option value="apprentissage">Apprentissage</option><option value="soir">Soir</option></select></div>
                                    <div className="form-group"><label>Ann√©e</label><input type="text" className="form-control" value={form.year} onChange={(e) => setForm({...form, year: e.target.value})} placeholder="2024-2025" /></div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={() => setShowModal(false)}>Annuler</button>
                                    <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        function AnnouncementsAdmin() {
            const [items, setItems] = useState(storage.get('announcements', []));
            const [showModal, setShowModal] = useState(false);
            const [editing, setEditing] = useState(null);
            const [form, setForm] = useState({ title: '', content: '', file: '', date: '' });
            const [file, setFile] = useState(null);
            
            const handleFileChange = (e) => {
                const f = e.target.files[0];
                if (f) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setForm({...form, file: reader.result});
                        setFile(f.name);
                    };
                    reader.readAsDataURL(f);
                }
            };
            
            const handleSave = () => {
                if (!form.title || !form.content) return alert('Titre et contenu obligatoires');
                let updated;
                const data = {...form, date: form.date || new Date().toISOString(), downloads: 0};
                if (editing) {
                    updated = items.map(i => i.id === editing.id ? {...data, id: i.id} : i);
                } else {
                    updated = [...items, {...data, id: Date.now().toString()}];
                }
                setItems(updated);
                storage.set('announcements', updated);
                setShowModal(false);
                setForm({ title: '', content: '', file: '', date: '' });
                setEditing(null);
                setFile(null);
            };
            
            const handleEdit = (item) => {
                setEditing(item);
                setForm(item);
                setShowModal(true);
            };
            
            const handleDelete = (id) => {
                if (confirm('Supprimer?')) {
                    const updated = items.filter(i => i.id !== id);
                    setItems(updated);
                    storage.set('announcements', updated);
                }
            };
            
            return (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '25px'}}>
                        <h2 style={{color: 'var(--primary-green)', margin: 0}}>üì¢ Annonces</h2>
                        <button className="btn btn-primary" onClick={() => setShowModal(true)}>‚ûï Nouveau</button>
                    </div>
                    {items.length > 0 ? (
                        <div className="table-container">
                            <table>
                                <thead><tr><th>Date</th><th>Titre</th><th>Contenu</th><th>Fichier</th><th>T√©l√©ch.</th><th>Actions</th></tr></thead>
                                <tbody>
                                    {items.map(i => (
                                        <tr key={i.id}>
                                            <td>{new Date(i.date).toLocaleDateString('fr-FR')}</td>
                                            <td>{i.title}</td>
                                            <td>{i.content.substring(0, 40)}...</td>
                                            <td>{i.file ? '‚úÖ' : '‚ùå'}</td>
                                            <td>{i.downloads || 0}</td>
                                            <td>
                                                <div className="action-buttons">
                                                    <button className="btn btn-secondary btn-sm" onClick={() => handleEdit(i)}>‚úèÔ∏è</button>
                                                    <button className="btn btn-danger btn-sm" onClick={() => handleDelete(i.id)}>üóëÔ∏è</button>
                                                </div>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    ) : <div className="empty-state"><div className="empty-state-icon">üì¢</div><h3>Aucune annonce</h3></div>}
                    {showModal && (
                        <div className="modal-overlay" onClick={() => setShowModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>{editing ? 'Modifier' : 'Nouvelle'} Annonce</h2>
                                    <button className="close-btn" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group"><label>Titre *</label><input type="text" className="form-control" value={form.title} onChange={(e) => setForm({...form, title: e.target.value})} /></div>
                                    <div className="form-group"><label>Contenu *</label><textarea className="form-control" value={form.content} onChange={(e) => setForm({...form, content: e.target.value})} /></div>
                                    <div className="form-group"><label>Date</label><input type="date" className="form-control" value={form.date ? form.date.split('T')[0] : ''} onChange={(e) => setForm({...form, date: e.target.value})} /></div>
                                    <div className="form-group">
                                        <label>Document</label>
                                        <div className="file-input-wrapper"><label className="file-input-label">Choisir<input type="file" accept=".pdf,.doc,.docx" onChange={handleFileChange} /></label></div>
                                        {file && <div className="selected-file">üìé {file}</div>}
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={() => setShowModal(false)}>Annuler</button>
                                    <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        function CoursesAdmin() {
            const [items, setItems] = useState(storage.get('courses', []));
            const [showModal, setShowModal] = useState(false);
            const [editing, setEditing] = useState(null);
            const [form, setForm] = useState({ title: '', specialtyId: '', semester: '', groupId: '', mode: '', type: 'normal', module: '', file: '' });
            const [file, setFile] = useState(null);
            const specialties = storage.get('specialties', []);
            const groups = storage.get('groups', []);
            
            const handleFileChange = (e) => {
                const f = e.target.files[0];
                if (f) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setForm({...form, file: reader.result});
                        setFile(f.name);
                    };
                    reader.readAsDataURL(f);
                }
            };
            
            const handleSave = () => {
                if (!form.title || !form.specialtyId || !form.semester || !form.mode) return alert('Champs obligatoires manquants');
                let updated;
                const data = {...form, downloads: 0};
                if (editing) {
                    updated = items.map(i => i.id === editing.id ? {...data, id: i.id} : i);
                } else {
                    updated = [...items, {...data, id: Date.now().toString()}];
                }
                setItems(updated);
                storage.set('courses', updated);
                setShowModal(false);
                setForm({ title: '', specialtyId: '', semester: '', groupId: '', mode: '', type: 'normal', module: '', file: '' });
                setEditing(null);
                setFile(null);
            };
            
            const handleEdit = (item) => {
                setEditing(item);
                setForm(item);
                setShowModal(true);
            };
            
            const handleDelete = (id) => {
                if (confirm('Supprimer?')) {
                    const updated = items.filter(i => i.id !== id);
                    setItems(updated);
                    storage.set('courses', updated);
                }
            };
            
            return (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '25px'}}>
                        <h2 style={{color: 'var(--primary-green)', margin: 0}}>üìñ Cours</h2>
                        <button className="btn btn-primary" onClick={() => setShowModal(true)}>‚ûï Nouveau</button>
                    </div>
                    {items.length > 0 ? (
                        <div className="table-container">
                            <table>
                                <thead><tr><th>Titre</th><th>Sp√©cialit√©</th><th>Semestre</th><th>Module</th><th>Mode</th><th>Type</th><th>T√©l√©ch.</th><th>Actions</th></tr></thead>
                                <tbody>
                                    {items.map(i => {
                                        const spec = specialties.find(s => s.id === i.specialtyId);
                                        return (
                                            <tr key={i.id}>
                                                <td>{i.title}</td>
                                                <td>{spec?.name || 'N/A'}</td>
                                                <td>S{i.semester}</td>
                                                <td>{i.module || '-'}</td>
                                                <td>{i.mode}</td>
                                                <td>{i.type === 'rattrapage' ? 'Rattrapage' : 'Normal'}</td>
                                                <td>{i.downloads || 0}</td>
                                                <td>
                                                    <div className="action-buttons">
                                                        <button className="btn btn-secondary btn-sm" onClick={() => handleEdit(i)}>‚úèÔ∏è</button>
                                                        <button className="btn btn-danger btn-sm" onClick={() => handleDelete(i.id)}>üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    ) : <div className="empty-state"><div className="empty-state-icon">üìñ</div><h3>Aucun cours</h3></div>}
                    {showModal && (
                        <div className="modal-overlay" onClick={() => setShowModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>{editing ? 'Modifier' : 'Nouveau'} Cours</h2>
                                    <button className="close-btn" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group"><label>Titre *</label><input type="text" className="form-control" value={form.title} onChange={(e) => setForm({...form, title: e.target.value})} /></div>
                                    <div className="form-group"><label>Sp√©cialit√© *</label><select className="form-control" value={form.specialtyId} onChange={(e) => setForm({...form, specialtyId: e.target.value})}><option value="">S√©lectionner</option>{specialties.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}</select></div>
                                    <div className="form-group"><label>Semestre *</label><select className="form-control" value={form.semester} onChange={(e) => setForm({...form, semester: e.target.value})}><option value="">S√©lectionner</option>{[1,2,3,4,5].map(s => <option key={s} value={s}>S{s}</option>)}</select></div>
                                    <div className="form-group"><label>Mode *</label><select className="form-control" value={form.mode} onChange={(e) => setForm({...form, mode: e.target.value})}><option value="">S√©lectionner</option><option value="presentiel">Pr√©sentiel</option><option value="apprentissage">Apprentissage</option><option value="soir">Soir</option></select></div>
                                    <div className="form-group"><label>Groupe</label><select className="form-control" value={form.groupId} onChange={(e) => setForm({...form, groupId: e.target.value})}><option value="">Tous</option>{groups.map(g => <option key={g.id} value={g.id}>{g.name}</option>)}</select></div>
                                    <div className="form-group"><label>Type *</label><select className="form-control" value={form.type} onChange={(e) => setForm({...form, type: e.target.value})}><option value="normal">Normal</option><option value="rattrapage">Rattrapage</option></select></div>
                                    <div className="form-group">
                                        <label>Fichier</label>
                                        <div className="file-input-wrapper"><label className="file-input-label">Choisir<input type="file" accept=".pdf,.doc,.docx" onChange={handleFileChange} /></label></div>
                                        {file && <div className="selected-file">üìé {file}</div>}
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={() => setShowModal(false)}>Annuler</button>
                                    <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        function ResultsAdmin() {
            const [items, setItems] = useState(storage.get('results', []));
            const [showModal, setShowModal] = useState(false);
            const [editing, setEditing] = useState(null);
            const [form, setForm] = useState({ title: '', specialtyId: '', semester: '', groupId: '', mode: '', type: 'normal', module: '', file: '' });
            const [file, setFile] = useState(null);
            const specialties = storage.get('specialties', []);
            const groups = storage.get('groups', []);
            
            const handleFileChange = (e) => {
                const f = e.target.files[0];
                if (f) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setForm({...form, file: reader.result});
                        setFile(f.name);
                    };
                    reader.readAsDataURL(f);
                }
            };
            
            const handleSave = () => {
                if (!form.title || !form.specialtyId || !form.semester || !form.mode) return alert('Champs obligatoires manquants');
                let updated;
                const data = {...form, downloads: 0};
                if (editing) {
                    updated = items.map(i => i.id === editing.id ? {...data, id: i.id} : i);
                } else {
                    updated = [...items, {...data, id: Date.now().toString()}];
                }
                setItems(updated);
                storage.set('results', updated);
                setShowModal(false);
                setForm({ title: '', specialtyId: '', semester: '', groupId: '', mode: '', type: 'normal', module: '', file: '' });
                setEditing(null);
                setFile(null);
            };
            
            const handleEdit = (item) => {
                setEditing(item);
                setForm(item);
                setShowModal(true);
            };
            
            const handleDelete = (id) => {
                if (confirm('Supprimer?')) {
                    const updated = items.filter(i => i.id !== id);
                    setItems(updated);
                    storage.set('results', updated);
                }
            };
            
            return (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '25px'}}>
                        <h2 style={{color: 'var(--primary-green)', margin: 0}}>üìä R√©sultats</h2>
                        <button className="btn btn-primary" onClick={() => setShowModal(true)}>‚ûï Nouveau</button>
                    </div>
                    {items.length > 0 ? (
                        <div className="table-container">
                            <table>
                                <thead><tr><th>Titre</th><th>Sp√©cialit√©</th><th>Semestre</th><th>Mode</th><th>Type</th><th>T√©l√©ch.</th><th>Actions</th></tr></thead>
                                <tbody>
                                    {items.map(i => {
                                        const spec = specialties.find(s => s.id === i.specialtyId);
                                        return (
                                            <tr key={i.id}>
                                                <td>{i.title}</td>
                                                <td>{spec?.name || 'N/A'}</td>
                                                <td>S{i.semester}</td>
                                                <td>{i.mode}</td>
                                                <td>{i.type === 'rattrapage' ? 'Rattrapage' : 'Normal'}</td>
                                                <td>{i.downloads || 0}</td>
                                                <td>
                                                    <div className="action-buttons">
                                                        <button className="btn btn-secondary btn-sm" onClick={() => handleEdit(i)}>‚úèÔ∏è</button>
                                                        <button className="btn btn-danger btn-sm" onClick={() => handleDelete(i.id)}>üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    ) : <div className="empty-state"><div className="empty-state-icon">üìä</div><h3>Aucun r√©sultat</h3></div>}
                    {showModal && (
                        <div className="modal-overlay" onClick={() => setShowModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>{editing ? 'Modifier' : 'Nouveau'} R√©sultat</h2>
                                    <button className="close-btn" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group"><label>Titre *</label><input type="text" className="form-control" value={form.title} onChange={(e) => setForm({...form, title: e.target.value})} /></div>
                                    <div className="form-group"><label>Sp√©cialit√© *</label><select className="form-control" value={form.specialtyId} onChange={(e) => setForm({...form, specialtyId: e.target.value})}><option value="">S√©lectionner</option>{specialties.map(s => <option key={s.id} value={s.id}>{s.name}</option>)}</select></div>
                                    <div className="form-group"><label>Semestre *</label><select className="form-control" value={form.semester} onChange={(e) => setForm({...form, semester: e.target.value})}><option value="">S√©lectionner</option>{[1,2,3,4,5].map(s => <option key={s} value={s}>S{s}</option>)}</select></div>
                                    <div className="form-group"><label>Mode *</label><select className="form-control" value={form.mode} onChange={(e) => setForm({...form, mode: e.target.value})}><option value="">S√©lectionner</option><option value="presentiel">Pr√©sentiel</option><option value="apprentissage">Apprentissage</option><option value="soir">Soir</option></select></div>
                                    <div className="form-group"><label>Groupe</label><select className="form-control" value={form.groupId} onChange={(e) => setForm({...form, groupId: e.target.value})}><option value="">Tous</option>{groups.map(g => <option key={g.id} value={g.id}>{g.name}</option>)}</select></div>
                                    <div className="form-group"><label>Type *</label><select className="form-control" value={form.type} onChange={(e) => setForm({...form, type: e.target.value})}><option value="normal">Normal</option><option value="rattrapage">Rattrapage</option></select></div>
                                    <div className="form-group">
                                        <label>Fichier</label>
                                        <div className="file-input-wrapper"><label className="file-input-label">Choisir<input type="file" accept=".pdf,.doc,.docx" onChange={handleFileChange} /></label></div>
                                        {file && <div className="selected-file">üìé {file}</div>}
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={() => setShowModal(false)}>Annuler</button>
                                    <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        function ExamsAdmin() {
            const [items, setItems] = useState(storage.get('exams', []));
            const [showModal, setShowModal] = useState(false);
            const [editing, setEditing] = useState(null);
            const [form, setForm] = useState({ title: '', mode: '', date: '', file: '' });
            const [file, setFile] = useState(null);
            
            const handleFileChange = (e) => {
                const f = e.target.files[0];
                if (f) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setForm({...form, file: reader.result});
                        setFile(f.name);
                    };
                    reader.readAsDataURL(f);
                }
            };
            
            const handleSave = () => {
                if (!form.title || !form.mode || !form.date) return alert('Champs obligatoires manquants');
                let updated;
                const data = {...form, downloads: 0};
                if (editing) {
                    updated = items.map(i => i.id === editing.id ? {...data, id: i.id} : i);
                } else {
                    updated = [...items, {...data, id: Date.now().toString()}];
                }
                setItems(updated);
                storage.set('exams', updated);
                setShowModal(false);
                setForm({ title: '', mode: '', date: '', file: '' });
                setEditing(null);
                setFile(null);
            };
            
            const handleEdit = (item) => {
                setEditing(item);
                setForm(item);
                setShowModal(true);
            };
            
            const handleDelete = (id) => {
                if (confirm('Supprimer?')) {
                    const updated = items.filter(i => i.id !== id);
                    setItems(updated);
                    storage.set('exams', updated);
                }
            };
            
            return (
                <div>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '25px'}}>
                        <h2 style={{color: 'var(--primary-green)', margin: 0}}>üìÖ Examens</h2>
                        <button className="btn btn-primary" onClick={() => setShowModal(true)}>‚ûï Nouveau</button>
                    </div>
                    {items.length > 0 ? (
                        <div className="table-container">
                            <table>
                                <thead><tr><th>Titre</th><th>Mode</th><th>Date</th><th>T√©l√©ch.</th><th>Actions</th></tr></thead>
                                <tbody>
                                    {items.map(i => (
                                        <tr key={i.id}>
                                            <td>{i.title}</td>
                                            <td>{i.mode}</td>
                                            <td>{new Date(i.date).toLocaleDateString('fr-FR')}</td>
                                            <td>{i.downloads || 0}</td>
                                            <td>
                                                <div className="action-buttons">
                                                    <button className="btn btn-secondary btn-sm" onClick={() => handleEdit(i)}>‚úèÔ∏è</button>
                                                    <button className="btn btn-danger btn-sm" onClick={() => handleDelete(i.id)}>üóëÔ∏è</button>
                                                </div>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    ) : <div className="empty-state"><div className="empty-state-icon">üìÖ</div><h3>Aucun examen</h3></div>}
                    {showModal && (
                        <div className="modal-overlay" onClick={() => setShowModal(false)}>
                            <div className="modal" onClick={(e) => e.stopPropagation()}>
                                <div className="modal-header">
                                    <h2>{editing ? 'Modifier' : 'Nouveau'} Tableau d'Examens</h2>
                                    <button className="close-btn" onClick={() => setShowModal(false)}>√ó</button>
                                </div>
                                <div className="modal-body">
                                    <div className="form-group"><label>Titre *</label><input type="text" className="form-control" value={form.title} onChange={(e) => setForm({...form, title: e.target.value})} placeholder="Planning Examens S1" /></div>
                                    <div className="form-group"><label>Mode *</label><select className="form-control" value={form.mode} onChange={(e) => setForm({...form, mode: e.target.value})}><option value="">S√©lectionner</option><option value="presentiel">Pr√©sentiel</option><option value="apprentissage">Apprentissage</option><option value="soir">Soir</option></select></div>
                                    <div className="form-group"><label>Date *</label><input type="date" className="form-control" value={form.date ? form.date.split('T')[0] : ''} onChange={(e) => setForm({...form, date: e.target.value})} /></div>
                                    <div className="form-group">
                                        <label>Fichier PDF</label>
                                        <div className="file-input-wrapper"><label className="file-input-label">Choisir<input type="file" accept=".pdf" onChange={handleFileChange} /></label></div>
                                        {file && <div className="selected-file">üìé {file}</div>}
                                    </div>
                                </div>
                                <div className="modal-footer">
                                    <button className="btn btn-secondary" onClick={() => setShowModal(false)}>Annuler</button>
                                    <button className="btn btn-primary" onClick={handleSave}>üíæ Enregistrer</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>